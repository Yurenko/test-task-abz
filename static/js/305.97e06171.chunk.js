"use strict";(self.webpackChunktest_task_abz=self.webpackChunktest_task_abz||[]).push([[305],{9471:function(e,n,t){t.d(n,{l:function(){return r}});var r=function(e){return e.response&&e.response.data?"object"===typeof e.response.data.message?e.response.data.message[0]:e.response.data.message:e.message}},8250:function(e,n,t){var r=t(4569),s=t.n(r),a=t(8329),o=s().create({baseURL:"".concat("https://frontend-test-assignment-api.abz.agency/api/v1/"),headers:{"Content-Type":"application/json"}});o.interceptors.request.use((function(e){var n=a.Z.get("accessToken");return e.headers&&n&&(e.headers.Token="".concat(n)),e})),n.Z=o},9202:function(e,n,t){t.d(n,{Z:function(){return a}});var r="MainTitle_title__rBnXv",s=t(184),a=function(e){var n=e.title;return(0,s.jsx)("h1",{className:r,children:n})}},2305:function(e,n,t){t.r(n),t.d(n,{default:function(){return E}});var r=t(1413),s=t(885),a=t(2791),o="Cards_wrapper__ohC+L",c="Cards_icon__SSDZo",i="Cards_name__2fxGU";var u=t.p+"static/media/photo-cover.fb98cf13a87225efe558669bdc541ac7.svg",f=t(4942),d=t(5987),p=t(7630),l=t(7442),v=t(9293),h=t(184),_=["className"],m=(0,p.ZP)((function(e){var n=e.className,t=(0,d.Z)(e,_);return(0,h.jsx)(l.Z,(0,r.Z)((0,r.Z)({},t),{},{classes:{popper:n}}))}))((function(e){var n=e.theme;return(0,f.Z)({},"& .".concat(v.Z.tooltip),{backgroundColor:n.palette.common.black})})),Z=function(e){var n=e.title;return(0,h.jsx)("div",{children:(0,h.jsx)(m,{title:n,children:(0,h.jsx)("div",{children:n})})})},g=function(e){var n=e.email,t=e.name,r=e.phone,s=e.photo,a=e.position;return(0,h.jsxs)("div",{className:o,children:[(0,h.jsx)("img",{src:s||u,alt:s,className:c}),(0,h.jsx)("div",{className:i,children:t}),(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:a}),(0,h.jsx)(Z,{title:n}),(0,h.jsx)("div",{children:r})]})]})},x=t(9202),j=t(1470),b="Users_wrapperUsers__e1WmD",k="Users_userCards__xQKIw",C=t(2982),S=t(1933),w=t(9471),T=t(6594),E=function(e){var n=e.addedNewUser,t=(0,a.useState)(1),o=(0,s.Z)(t,2),c=o[0],i=o[1],u=(0,a.useState)(null),f=(0,s.Z)(u,2),d=f[0],p=f[1],l=(0,a.useState)([]),v=(0,s.Z)(l,2),_=v[0],m=v[1],Z=function(e,n,t,r){var s=(0,S.useQuery)("users",(function(){return T.K.getUsers(e)}),{onSuccess:function(e){var s=e.data;n((function(e){return r?(0,C.Z)(s.users):[].concat((0,C.Z)(e),(0,C.Z)(s.users))})),t(s.total_pages)},onError:function(e){alert((0,w.l)(e))}});return{isLoading:s.isLoading,refetch:s.refetch}}(c,m,p,n),E=Z.isLoading,U=Z.refetch;(0,a.useEffect)((function(){U()}),[c]),(0,a.useEffect)((function(){i(1),1===c&&U()}),[n]);return(0,h.jsxs)("div",{className:b,children:[(0,h.jsx)(x.Z,{title:"Working with GET request"}),E?(0,h.jsx)(j.Z,{}):(0,h.jsx)("div",{className:k,children:_.map((function(e){return(0,h.jsx)(g,(0,r.Z)({},e),e.id)}))}),d!==c&&(0,h.jsx)("button",{onClick:function(){i((function(e){return e+1}))},children:"Show more"})]})}},2478:function(e,n,t){t.d(n,{Il:function(){return s},LP:function(){return o},_A:function(){return r},l$:function(){return a}});"".concat({NODE_ENV:"production",PUBLIC_URL:"/test-task-abz",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_URL:"https://frontend-test-assignment-api.abz.agency/api/v1/"}.APP_URL,"/api");var r=function(){return"/users"},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"/users?page=".concat(e,"&count=6")},a=function(){return"/positions"},o=function(){return"/token"}},6594:function(e,n,t){t.d(n,{K:function(){return c}});var r=t(8214),s=t(5861),a=t(2478),o=t(8250),c={register:function(e,n,t,c,i){return(0,s.Z)((0,r.Z)().mark((function s(){var u;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.Z.post((0,a._A)(),{name:e,email:n,phone:t,position_id:c,photo:i},{headers:{"Content-Type":"multipart/form-data"}});case 2:return u=r.sent,r.abrupt("return",u);case 4:case"end":return r.stop()}}),s)})))()},getPositions:function(){return(0,s.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.Z.get((0,a.l$)()));case 1:case"end":return e.stop()}}),e)})))()},getUsers:function(){var e=arguments;return(0,s.Z)((0,r.Z)().mark((function n(){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.length>0&&void 0!==e[0]?e[0]:1,n.abrupt("return",o.Z.get((0,a.Il)(t)));case 2:case"end":return n.stop()}}),n)})))()}}}}]);
//# sourceMappingURL=305.97e06171.chunk.js.map